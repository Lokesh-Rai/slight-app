(this.webpackJsonpslight=this.webpackJsonpslight||[]).push([[0],{24:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),a=n(18),r=n.n(a),o=(n(24),n(5)),i=n(2),l=n(4),j=n(6),h=n.n(j),b=n(0),d=function(){var e=Object(i.f)(),t=Object(s.useContext)(f),n=t.state,c=t.dispatch,a=localStorage.getItem("name");return Object(b.jsx)("nav",{className:"home",children:Object(b.jsx)("div",{className:"home-aligner",children:Object(b.jsx)("div",{className:"nav-wrapper white",children:n?[Object(b.jsx)(l.b,{to:"/home",className:"brand-logo left",style:{fontFamily:"Train One"},children:"SLIGHT"}),Object(b.jsxs)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:[Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/ask",children:"Ask"})},"3"),Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"#",children:a})},"4"),Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"#",children:Object(b.jsx)("i",{className:"fa fa-sign-out",onClick:function(){localStorage.clear(),c({type:"CLEAR"}),h.a.toast({html:"Logged out!",classes:"#64dd17 light-green accent-4"}),e.push("/")}})})},"5")]})]:[Object(b.jsx)(l.b,{to:"/",className:"brand-logo left",style:{fontFamily:"Train One"},children:"SLIGHT"}),Object(b.jsxs)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:[Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/signup",children:"Signup"})},"1"),Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/",children:"Signin"})},"2")]})]})})})},u=function(){var e=Object(i.f)(),t=Object(s.useState)(""),n=Object(o.a)(t,2),c=n[0],a=n[1],r=Object(s.useState)(""),j=Object(o.a)(r,2),d=j[0],u=j[1],O=Object(s.useState)(""),p=Object(o.a)(O,2),x=p[0],g=p[1];return Object(b.jsx)("div",{className:"home-aligner",children:Object(b.jsxs)("div",{className:"card authcard",children:[Object(b.jsx)("h2",{children:"Signup"}),Object(b.jsx)("input",{type:"text",placeholder:"Name",value:c,onChange:function(e){return a(e.target.value)}}),Object(b.jsx)("input",{type:"text",placeholder:"Email ID",value:x,onChange:function(e){return g(e.target.value)}}),Object(b.jsx)("input",{type:"password",placeholder:"Password",value:d,onChange:function(e){return u(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{style:{borderRadius:"4px",fontFamily:"'Lexend', sans-serif",width:"30%",backgroundColor:"greenyellow",color:"#484848",fontWeight:""},className:"btn waves-effect waves-light",onClick:function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(x)?fetch("https://slight-app.herokuapp.com/signup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,email:x,password:d})}).then((function(e){return e.json()})).then((function(t){t.error?h.a.toast({html:t.error,classes:"#f44336 red"}):(h.a.toast({html:t.message,classes:"#64dd17 light-green accent-4"}),e.push("/"))})).catch((function(e){console.log(e)})):h.a.toast({html:"Invalid email",classes:"#f44336 red"})},children:"Signup"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(l.b,{to:"/",children:"Signin instead?"})]})})},O=(n(30),function(){var e=Object(s.useContext)(f),t=(e.state,e.dispatch),n=Object(i.f)(),c=Object(s.useState)(""),a=Object(o.a)(c,2),r=a[0],j=a[1],d=Object(s.useState)(""),u=Object(o.a)(d,2),O=u[0],p=u[1];return Object(b.jsx)("div",{className:"home-aligner",children:Object(b.jsxs)("div",{className:"card authcard",children:[Object(b.jsx)("h2",{children:"Signin"}),Object(b.jsx)("input",{type:"text",placeholder:"Email ID",value:O,onChange:function(e){return p(e.target.value)}}),Object(b.jsx)("input",{type:"password",placeholder:"Password",value:r,onChange:function(e){return j(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{style:{borderRadius:"4px",fontFamily:"'Lexend', sans-serif",width:"30%",backgroundColor:"greenyellow",color:"#484848",fontWeight:""},className:"btn waves-effect waves-light",onClick:function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(O)?fetch("https://slight-app.herokuapp.com/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:O,password:r})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?h.a.toast({html:e.error,classes:"#f44336 red"}):(localStorage.setItem("name",e.nam),localStorage.setItem("jwt",e.token),localStorage.setItem("user",JSON.stringify(e.user)),t({type:"USER",payload:e.user}),h.a.toast({html:"signin success!",classes:"#64dd17 light-green accent-4"}),n.push("/home"))})).catch((function(e){console.log(e)})):h.a.toast({html:"Invalid email",classes:"#f44336 red"})},children:"Signin"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(l.b,{to:"/signup",children:"Signup instead?"})]})})}),p=function(){Object(i.f)();var e=Object(s.useContext)(f),t=(e.state,e.dispatch,Object(s.useState)([])),n=Object(o.a)(t,2),c=n[0],a=n[1];Object(s.useEffect)((function(){fetch("https://slight-app.herokuapp.com/home",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){a(e.posts)}))}),[]);return c.length?Object(b.jsxs)("div",{className:"home-aligner",children:[console.log(c),c.map((function(e){return Object(b.jsxs)("div",{className:"home-card",style:{textAlign:"center"},children:[Object(b.jsx)("u",{style:{color:"red"},children:Object(b.jsxs)("h4",{children:["#",e.title]})}),Object(b.jsx)("br",{}),Object(b.jsxs)("h6",{style:{textAlign:"right"},children:["Asked By: ",e.postedBy.name]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("p",{children:e.body}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("hr",{}),Object(b.jsx)("br",{}),Object(b.jsx)("h4",{style:{textAlign:"right"},children:"Comments"}),Object(b.jsx)("br",{}),e.comments.map((function(e){return Object(b.jsxs)("p",{style:{textAlign:"left"},children:[Object(b.jsxs)("u",{style:{fontWeight:"bold"},children:[e.postedBy.name,":"]})," ",e.text]},e._id)})),Object(b.jsxs)("form",{onSubmit:function(t){var n,s;n=t.target[0].value,s=e._id,fetch("https://slight-app.herokuapp.com/comment",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:s,text:n})}).then((function(e){return e.json()})).then((function(e){var t=c.map((function(t){return t._id==e._id?e:t}));a(t)})).catch((function(e){console.log(e)}))},children:[Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"text",placeholder:"Add a comment"})]})]})}))]}):Object(b.jsx)("h2",{style:{textAlign:"center",paddingTop:"15%",color:"white",fontWeight:"bold"},children:"No Questions asked yet!"})},x=function(){var e=Object(s.useContext)(f),t=(e.state,e.dispatch,Object(i.f)()),n=Object(s.useState)(""),c=Object(o.a)(n,2),a=c[0],r=c[1],l=Object(s.useState)(""),j=Object(o.a)(l,2),d=j[0],u=j[1];return Object(b.jsxs)("div",{className:"hac",style:{textAlign:"center"},children:[Object(b.jsx)("input",{type:"text",placeholder:"Title",value:a,onChange:function(e){return r(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"text",placeholder:"Description of the problem",value:d,onChange:function(e){return u(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{onClick:function(){fetch("https://slight-app.herokuapp.com/ask",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({title:a,body:d})}).then((function(e){return e.json()})).then((function(e){e.error?h.a.toast({html:e.error,classes:"#f44336 red"}):(h.a.toast({html:"Question Posted!",classes:"#64dd17 light-green accent-4"}),t.push("/home"))})).catch((function(e){console.log(e)}))},className:"btn waves-effect waves-light",style:{borderRadius:"15px",fontFamily:"'Lexend', sans-serif",fontSize:"20px",width:"20%",height:"20%",backgroundColor:"orange"},children:"Ask"})]})},g=function(e,t){return"USER"===t.type?t.payload:"CLEAR"===t.type?null:e},f=Object(s.createContext)(),m=function(){var e=Object(i.f)(),t=Object(s.useContext)(f),n=(t.state,t.dispatch);return Object(s.useEffect)((function(){var t=localStorage.getItem("user");null==t?e.push("/"):(n({type:"USER",payload:t}),e.push("/home"))}),[]),Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{exact:!0,path:"/",children:Object(b.jsx)(O,{})}),Object(b.jsx)(i.a,{path:"/signup",children:Object(b.jsx)(u,{})}),Object(b.jsx)(i.a,{path:"/home",children:Object(b.jsx)(p,{})}),Object(b.jsx)(i.a,{path:"/ask",children:Object(b.jsx)(x,{})})]})};var y=function(){var e=Object(s.useReducer)(g,null),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(b.jsx)(f.Provider,{value:{state:n,dispatch:c},children:Object(b.jsxs)(l.a,{children:[Object(b.jsx)("div",{className:"back"}),Object(b.jsx)(d,{}),Object(b.jsx)(m,{})]})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),c(e),a(e),r(e)}))};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(y,{})}),document.getElementById("root")),v()}},[[31,1,2]]]);
//# sourceMappingURL=main.0d150cd5.chunk.js.map